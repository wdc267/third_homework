{"version":3,"file":"js/783.3a9c98ef.js","mappings":"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","sources":["webpack://third_homework/./src/components/Register.vue","webpack://third_homework/./src/components/Register.vue?0e3f"],"sourcesContent":["<template>\r\n    <router-link to=\"/Home\"><a href=\"#\" style=\"color:red\">游客身份进入主页</a></router-link>\r\n    <div id=\"tabpage\">\r\n        <div>\r\n            <button class=\"tablink\" :class=\"{ deepcolor: showRef }\" @click=\"showRef=true\">注册</button>\r\n            <button class=\"tablink\" :class=\"{ deepcolor: !showRef }\" @click=\"showRef=false\">登录</button>\r\n        </div>\r\n        <div id=\"register\" class=\"tabcontent\" v-if=\"showRef\">\r\n            <form action=\"\">\r\n                <li>\r\n                    <label for=\"registrantName\">用户名：</label>\r\n                    <input id=\"registrantName\" type=\"text\" placeholder=\"请输入用户名\" v-model=\"registrant.username\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantId\">id：</label>\r\n                    <input id=\"registrantId\" type=\"text\" placeholder=\"请输入id\" v-model=\"registrant.userId\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantNickname\">昵称：</label>\r\n                    <input id=\"registrantNickname\" type=\"text\" placeholder=\"请输入昵称\"  v-model=\"registrant.nickname\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantPhone\">手机号：</label>\r\n                    <input id=\"registrantPhone\" type=\"text\" placeholder=\"请输入手机号\" v-model=\"registrant.phone\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantEmail\">电子邮箱：</label>\r\n                    <input id=\"registrantEmail\" type=\"text\" placeholder=\"请输入电子邮箱\" v-model=\"registrant.email\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantSex\">性别：</label>\r\n                    <input id=\"registrantSex\" type=\"radio\" name=\"sex\" value='male' v-model=\"registrant.sex\" />男\r\n                    <input type=\"radio\" name=\"sex\" value='female' v-model=\"registrant.sex\" />女\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantPassword\">密码：</label>\r\n                    <input id=\"registrantPassword\" type=\"password\" placeholder=\"请输入密码\" autocomplete=\"on\" v-model=\"registrant.password\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"registrantConfirmPassword\">确认密码：</label>\r\n                    <input id=\"registrantConfirmPassword\" type=\"password\" placeholder=\"请再次输入密码\" autocomplete=\"on\" v-model=\"registrant.confirmPassword\">\r\n                </li>\r\n                <li>\r\n                    <el-button type=\"primary\" @click=\"register\">注册</el-button>\r\n                </li>\r\n            </form>\r\n        </div>\r\n        <div id=\"login\" class=\"tabcontent\" v-else style=\"height:190px\">\r\n            <form action=\"\">\r\n                <li>\r\n                    <label for=\"loginUserId\">id：</label>\r\n                    <input id=\"loginUserId\" type=\"text\" placeholder=\"请输入id\" autocomplete=\"on\" v-model=\"loginUser.userId\">\r\n                </li>\r\n                <li>\r\n                    <label for=\"loginPassword\">密码：</label>\r\n                    <input id=\"loginPassword\" type=\"password\" placeholder=\"请输入密码\" autocomplete=\"on\" v-model=\"loginUser.password\">\r\n                </li>\r\n                <li><el-button type=\"primary\" @click=\"login\">登录</el-button></li>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref } from 'vue'\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n    name: 'Register',\r\n    setup() {\r\n        const store = useStore();\r\n        const router = useRouter();\r\n        const myHeaders = new Headers()\r\n        myHeaders.append(\"Content-Type\", \"application/json\")\r\n        let showRef = ref(true);\r\n        let registrant = reactive({\r\n            username: '',\r\n            userId: '',\r\n            nickname: '',\r\n            phone: '',\r\n            email: '',\r\n            sex: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n        });\r\n        let loginUser = reactive({\r\n            username: '',\r\n            userId: '',\r\n            nickname: '',\r\n            phone: '',\r\n            email: '',\r\n            sex: '',\r\n            password: '',\r\n        })\r\n        function register() {\r\n            // console.log(registrant);\r\n            let name = registrant.username;\r\n            let pwd = registrant.password;\r\n            let id = registrant.userId;\r\n            let sex = registrant.sex;\r\n            let nickname= registrant.nickname;\r\n            let phone = registrant.phone;\r\n            let email = registrant.email;\r\n            if (name == '' || pwd == '' || id == ''||pwd=='') {\r\n                alert('输入信息不完整')\r\n            } else if (pwd != registrant.confirmPassword) {\r\n                alert('输入密码前后不一致')\r\n            } else {\r\n                let host = 'https://db-api.amarea.cn'\r\n                let key = 'users'\r\n                let requestOptions = {\r\n                    method: \"POST\",\r\n                    headers: myHeaders,\r\n                    redirect: \"follow\",\r\n                }\r\n                requestOptions.body = JSON.stringify({\r\n                    id: id, name: name, password: pwd, sex: sex, nickname: nickname,\r\n                    phone: phone, email: email, // 初始化一个空的待办清单\r\n                });\r\n                fetch(`${host}/${key}`, requestOptions) // 这里的网址没有id\r\n                    .then(response => {\r\n                        if (response.status == 500) {\r\n                            alert('用户id重复，注册失败')\r\n                        }\r\n                        else return response.json()\r\n                    }\r\n                    )\r\n                    .then(data => {\r\n                        console.log(data.id + \"注册成功\")\r\n                        alert('注册成功')\r\n                    })  //新创建后的数据的id\r\n                    .catch(err => {\r\n                        console.log(err)\r\n                    })\r\n\r\n            }\r\n        }\r\n        function login() {\r\n            console.log(loginUser);\r\n            let requestOptions = { // 里面不能有body\r\n                method: \"GET\",\r\n                headers: myHeaders,\r\n                redirect: \"follow\",\r\n            }\r\n            let host = 'https://db-api.amarea.cn'\r\n            let key = 'users'\r\n            let id = loginUser.userId;\r\n            let password = loginUser.password;\r\n            fetch(`${host}/${key}/${id}`, requestOptions)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.id === id) {\r\n                        if (data.password === password) {\r\n                            console.log(data.name + '登录成功')\r\n                            store.state.user.name = data.name\r\n                            store.state.user.islogin = true\r\n                            router.push('/Home');\r\n                        } else {\r\n                            throw new Error(\"密码不正确\")\r\n                        }\r\n                    } else {\r\n                        throw new Error(\"id不存在\")\r\n                    }\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        return {\r\n            showRef,\r\n            registrant,\r\n            loginUser,\r\n            register,\r\n            login\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody,\r\n    html {\r\n        height: 100%;\r\n        margin: 0;\r\n        font-family: Arial;\r\n    }\r\n\r\n    li {\r\n        list-style: none;\r\n    }\r\n\r\n    #tabpage {\r\n        width: 400px;\r\n        height: 250px;\r\n        margin: 100px auto;\r\n\r\n    }\r\n\r\n    .tablink {\r\n        float: left;\r\n        width: 50%;\r\n        font-size: 17px;\r\n        background-color:#79bbff;\r\n        color: white;\r\n        border: none;\r\n        outline: none;\r\n        cursor: pointer;\r\n        padding: 14px 16px;\r\n    }\r\n    .deepcolor {\r\n        background-color: #3d95ed;\r\n    }\r\n\r\n    .tablink:hover {\r\n        background-color: #409EFF;\r\n    }\r\n\r\n    .tabcontent {\r\n        height: 330px;\r\n        padding: 6px 12px;\r\n        border: 1px solid #a0cfff;\r\n        border-top: none;\r\n    }\r\n\r\n    #register li {\r\n        margin-bottom: 10px;\r\n    }\r\n    #register li:first-child {\r\n        margin-top: 53px;\r\n    }\r\n\r\n    #register li label {\r\n        display: inline-block;\r\n        width: 120px;\r\n        text-align: right;\r\n    }\r\n    #register .el-button {\r\n        margin: 0 0 0 150px;\r\n    }\r\n\r\n    #login li {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    #login li:first-child {\r\n        margin-top: 60px;\r\n    }\r\n\r\n    #login li label {\r\n        display: inline-block;\r\n        width: 120px;\r\n        text-align: right;\r\n    }\r\n\r\n    #login li .el-button {\r\n        margin: 0 0 0 150px;\r\n    }\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=7e6a8ef2&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=7e6a8ef2&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\WebProgram\\\\Projects\\\\web_development\\\\third_homework\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e6a8ef2\"]])\n\nexport default __exports__"],"names":["_createElementVNode","href","style","id","class","action","for","_createVNode","_component_router_link","to","_hoisted_1","_hoisted_2","deepcolor","$setup","onClick","_createElementBlock","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","username","_hoisted_6","userId","_hoisted_7","nickname","_hoisted_8","phone","_hoisted_9","email","_hoisted_10","name","value","sex","_hoisted_11","autocomplete","password","_hoisted_12","confirmPassword","_component_el_button","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","setup","store","useStore","router","useRouter","myHeaders","Headers","append","showRef","ref","registrant","reactive","loginUser","register","pwd","alert","host","key","requestOptions","method","headers","redirect","body","JSON","stringify","fetch","then","response","status","json","data","console","log","catch","err","login","Error","state","user","islogin","push","__exports__","render"],"sourceRoot":""}