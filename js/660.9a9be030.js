"use strict";(self["webpackChunkthird_homework"]=self["webpackChunkthird_homework"]||[]).push([[660],{7660:function(e,r,n){n.r(r),n.d(r,{default:function(){return R}});var t=n(3396),l=n(7139),a=n(9242);const o=e=>((0,t.dD)("data-v-75667dc1"),e=e(),(0,t.Cn)(),e),s=o((()=>(0,t._)("a",{href:"#",style:{color:"red"}},"游客身份进入主页",-1))),i={id:"tabpage"},d={key:0,id:"register",class:"tabcontent"},u={action:""},p=o((()=>(0,t._)("label",{for:"registrantName"},"用户名：",-1))),c=o((()=>(0,t._)("label",{for:"registrantId"},"id：",-1))),m=o((()=>(0,t._)("label",{for:"registrantNickname"},"昵称：",-1))),g=o((()=>(0,t._)("label",{for:"registrantPhone"},"手机号：",-1))),w=o((()=>(0,t._)("label",{for:"registrantEmail"},"电子邮箱：",-1))),h=o((()=>(0,t._)("label",{for:"registrantSex"},"性别：",-1))),_=o((()=>(0,t._)("label",{for:"registrantPassword"},"密码：",-1))),f=o((()=>(0,t._)("label",{for:"registrantConfirmPassword"},"确认密码：",-1))),y={key:1,id:"login",class:"tabcontent",style:{height:"190px"}},k={action:""},b=o((()=>(0,t._)("label",{for:"loginUserId"},"id：",-1))),U=o((()=>(0,t._)("label",{for:"loginPassword"},"密码：",-1)));function x(e,r,n,o,x,C){const I=(0,t.up)("router-link"),v=(0,t.up)("el-button");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(I,{to:"/Home"},{default:(0,t.w5)((()=>[s])),_:1}),(0,t._)("div",i,[(0,t._)("div",null,[(0,t._)("button",{class:(0,l.C_)(["tablink",{deepcolor:o.showRef}]),onClick:r[0]||(r[0]=e=>o.showRef=!0)},"注册",2),(0,t._)("button",{class:(0,l.C_)(["tablink",{deepcolor:!o.showRef}]),onClick:r[1]||(r[1]=e=>o.showRef=!1)},"登录",2)]),o.showRef?((0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("form",u,[(0,t._)("li",null,[p,(0,t.wy)((0,t._)("input",{id:"registrantName",type:"text",placeholder:"请输入用户名","onUpdate:modelValue":r[2]||(r[2]=e=>o.registrant.username=e)},null,512),[[a.nr,o.registrant.username]])]),(0,t._)("li",null,[c,(0,t.wy)((0,t._)("input",{id:"registrantId",type:"text",placeholder:"请输入id","onUpdate:modelValue":r[3]||(r[3]=e=>o.registrant.userId=e)},null,512),[[a.nr,o.registrant.userId]])]),(0,t._)("li",null,[m,(0,t.wy)((0,t._)("input",{id:"registrantNickname",type:"text",placeholder:"请输入昵称","onUpdate:modelValue":r[4]||(r[4]=e=>o.registrant.nickname=e)},null,512),[[a.nr,o.registrant.nickname]])]),(0,t._)("li",null,[g,(0,t.wy)((0,t._)("input",{id:"registrantPhone",type:"text",placeholder:"请输入手机号","onUpdate:modelValue":r[5]||(r[5]=e=>o.registrant.phone=e)},null,512),[[a.nr,o.registrant.phone]])]),(0,t._)("li",null,[w,(0,t.wy)((0,t._)("input",{id:"registrantEmail",type:"text",placeholder:"请输入电子邮箱","onUpdate:modelValue":r[6]||(r[6]=e=>o.registrant.email=e)},null,512),[[a.nr,o.registrant.email]])]),(0,t._)("li",null,[h,(0,t.wy)((0,t._)("input",{id:"registrantSex",type:"radio",name:"sex",value:"male","onUpdate:modelValue":r[7]||(r[7]=e=>o.registrant.sex=e)},null,512),[[a.G2,o.registrant.sex]]),(0,t.Uk)("男 "),(0,t.wy)((0,t._)("input",{type:"radio",name:"sex",value:"female","onUpdate:modelValue":r[8]||(r[8]=e=>o.registrant.sex=e)},null,512),[[a.G2,o.registrant.sex]]),(0,t.Uk)("女 ")]),(0,t._)("li",null,[_,(0,t.wy)((0,t._)("input",{id:"registrantPassword",type:"password",placeholder:"请输入密码",autocomplete:"on","onUpdate:modelValue":r[9]||(r[9]=e=>o.registrant.password=e)},null,512),[[a.nr,o.registrant.password]])]),(0,t._)("li",null,[f,(0,t.wy)((0,t._)("input",{id:"registrantConfirmPassword",type:"password",placeholder:"请再次输入密码",autocomplete:"on","onUpdate:modelValue":r[10]||(r[10]=e=>o.registrant.confirmPassword=e)},null,512),[[a.nr,o.registrant.confirmPassword]])]),(0,t._)("li",null,[(0,t.Wm)(v,{type:"primary",onClick:o.register},{default:(0,t.w5)((()=>[(0,t.Uk)("注册")])),_:1},8,["onClick"])])])])):((0,t.wg)(),(0,t.iD)("div",y,[(0,t._)("form",k,[(0,t._)("li",null,[b,(0,t.wy)((0,t._)("input",{id:"loginUserId",type:"text",placeholder:"请输入id",autocomplete:"on","onUpdate:modelValue":r[11]||(r[11]=e=>o.loginUser.userId=e)},null,512),[[a.nr,o.loginUser.userId]])]),(0,t._)("li",null,[U,(0,t.wy)((0,t._)("input",{id:"loginPassword",type:"password",placeholder:"请输入密码",autocomplete:"on","onUpdate:modelValue":r[12]||(r[12]=e=>o.loginUser.password=e)},null,512),[[a.nr,o.loginUser.password]])]),(0,t._)("li",null,[(0,t.Wm)(v,{type:"primary",onClick:o.login},{default:(0,t.w5)((()=>[(0,t.Uk)("登录")])),_:1},8,["onClick"])])])]))])],64)}n(7658);var C=n(4870),I=n(2483),v={name:"Register",setup(){const e=(0,I.tv)(),r=new Headers;r.append("Content-Type","application/json");let n=(0,C.iH)(!0),t=(0,C.qj)({username:"",userId:"",nickname:"",phone:"",email:"",sex:"",password:"",confirmPassword:""}),l=(0,C.qj)({username:"",userId:"",nickname:"",phone:"",email:"",sex:"",password:""});function a(){console.log(t);let e="https://db-api.amarea.cn",n="users",l={method:"POST",headers:r,redirect:"follow"},a=t.username,o=t.password,s=t.userId,i=t.sex,d=t.nickname,u=t.phone,p=t.email;l.body=JSON.stringify({id:s,name:a,password:o,sex:i,nickname:d,phone:u,email:p}),fetch(`${e}/${n}`,l).then((e=>{if(500!=e.status)return e.json();alert("用户id重复，注册失败")})).then((e=>{console.log(e.id+"注册成功"),alert("注册成功")})).catch((e=>{console.log(e)}))}function o(){console.log(l);let n={method:"GET",headers:r,redirect:"follow"},t="https://db-api.amarea.cn",a="users",o=l.userId,s=l.password;fetch(`${t}/${a}/${o}`,n).then((e=>e.json())).then((r=>{if(r.id!==o)throw new Error("id不存在");if(r.password!==s)throw new Error("密码不正确");console.log(r.name+"登录成功"),e.push("/Home")})).catch((e=>console.log(e)))}return{showRef:n,registrant:t,loginUser:l,register:a,login:o}}},P=n(89);const V=(0,P.Z)(v,[["render",x],["__scopeId","data-v-75667dc1"]]);var R=V}}]);
//# sourceMappingURL=660.9a9be030.js.map